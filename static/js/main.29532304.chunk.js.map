{"version":3,"sources":["components/imageGalleryItem/imageGalleryItem.module.css","components/modal/modal.module.css","components/button/button.module.css","components/imageGallery/imageGallery.module.css","components/button/Button.jsx","components/imageGallery/ImageGallery.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/modal/Modal.jsx","components/searchbar/Searchbar.jsx","App.js","reportWebVitals.js","index.js","components/searchbar/searchbar.module.css"],"names":["module","exports","Button","className","s","button","type","onClick","this","props","text","Component","ImageGallery","children","ImageGalleryItem","imagesAray","map","id","webformatURL","src","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","closeModalOnEscape","e","code","onClose","omBackdropClick","currentTarget","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","API_KEY","Searchbar","state","value","images","page","searchValue","loading","showModal","onSubmitForm","preventDefault","trim","setState","console","log","axios","get","then","response","status","data","hits","eror","catch","error","onSubmit","reset","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","progress","undefined","onButtonClick","prevState","onChangeHandler","toLowerCase","togleModal","onItemClick","prevProps","length","scrollTo","top","documentElement","scrollHeight","behavior","SearchForm","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","color","height","width","arrayImages","imagesArray","imageName","App","onSubmithandler","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.29532304.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__1KPnp\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__29Z97\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__2tWcT\",\"modal\":\"modal_modal__1iU-h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2LeZt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__9xU1E\"};","import React from 'react';\r\nimport { Component } from 'react';\r\nimport s from './button.module.css';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button className={s.button} type=\"button\" onClick={this.props.onClick}>\r\n        {this.props.text}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import s from './imageGallery.module.css';\r\n// import ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\n// import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n// import Loader from 'react-loader-spinner';\r\n// import axios from 'axios';\r\n// import Button from '../button/Button';\r\n// import Modal from '../modal/Modal';\r\n\r\n// const API_KEY = '22334770-5fe06baa3562bf01c1a6f3fbc';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return (\r\n    <section>\r\n      <ul className={s.ImageGallery}> {children}</ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport { Component } from 'react';\r\nimport s from './imageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    return this.props.imagesAray.map(({ id, webformatURL }) => (\r\n      <li key={id} className={s.ImageGalleryItem} onClick={this.props.onClick}>\r\n        <img src={webformatURL} alt=\"\" className={s.ImageGalleryItemImage} />\r\n      </li>\r\n    ));\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import s from './modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModalOnEscape);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeModalOnEscape);\r\n  }\r\n\r\n  closeModalOnEscape = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  omBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.omBackdropClick}>\r\n        <div className={s.modal}>\r\n          <img src=\"\" alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { Component } from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './searchbar.module.css';\r\nimport axios from 'axios';\r\nimport Button from '../button/Button';\r\nimport ImageGallery from '../imageGallery/ImageGallery';\r\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../modal/Modal';\r\n\r\nconst API_KEY = '22334770-5fe06baa3562bf01c1a6f3fbc';\r\n\r\n// https://pixabay.com/api/?q=${value}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n    images: [],\r\n    page: 1,\r\n    searchValue: '',\r\n    loading: false,\r\n    showModal: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.page !== this.state.page) {\r\n      console.log(prevState.page, this.state.page);\r\n      if (prevState.value !== this.state.value) {\r\n        this.setState({\r\n          loading: true,\r\n        });\r\n      }\r\n      axios\r\n        .get(\r\n          `https://pixabay.com/api/?q=${this.state.searchValue}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n        )\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            this.setState(prevState => ({\r\n              images: [...prevState.images, ...response.data.hits],\r\n            }));\r\n            this.setState({ loading: false });\r\n            if (this.state.images.length > 11) {\r\n              window.scrollTo({\r\n                top: document.documentElement.scrollHeight,\r\n                behavior: 'smooth',\r\n              });\r\n            }\r\n            console.log(this.state.page);\r\n          }\r\n          if (response.status === 400) {\r\n            this.setState({ eror: 'картинки по вашему зыпросу не найдены' });\r\n          }\r\n        })\r\n        .catch(error => console.error(error));\r\n    }\r\n  }\r\n\r\n  onSubmitForm = e => {\r\n    e.preventDefault();\r\n    if (this.state.value.trim() === '') {\r\n      toast.error('🦄 Заполните поле поиска!', {\r\n        position: 'top-center',\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        progress: undefined,\r\n      });\r\n      // alert('заполните поле ввода');\r\n      return;\r\n    }\r\n\r\n    if (this.state.value !== this.state.searchValue) {\r\n      this.setState({ page: 1, images: [] });\r\n    }\r\n    this.setState({ searchValue: this.state.value });\r\n    console.log(this.state.value);\r\n    console.log(this.state.searchValue);\r\n\r\n    axios\r\n      .get(\r\n        `https://pixabay.com/api/?q=${this.state.value}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n      )\r\n      .then(response => {\r\n        console.log(response);\r\n        if (response.status === 200) {\r\n          this.setState({ images: response.data.hits });\r\n          console.log(this.state.images);\r\n        }\r\n        if (response.status === 400) {\r\n          this.setState({ eror: 'картинки по вашему зыпросу не найдены' });\r\n        }\r\n      })\r\n      .catch(error => console.error(error));\r\n\r\n    this.props.onSubmit(this.state);\r\n    this.reset();\r\n  };\r\n\r\n  onButtonClick = e => {\r\n    this.setState(prevState => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  onChangeHandler = e => {\r\n    this.setState({ value: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      value: '',\r\n    });\r\n  };\r\n\r\n  togleModal = () => {\r\n    this.setState(state => ({ showModal: !state.showModal }));\r\n  };\r\n\r\n  onItemClick = e => {\r\n    console.log(e);\r\n\r\n    this.togleModal();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.onSubmitForm}>\r\n            <button type=\"submit\" className={s.SearchFormButton}>\r\n              <span className={s.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              onChange={this.onChangeHandler}\r\n              className={s.SearchFormInput}\r\n              type=\"text\"\r\n              value={this.state.value}\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n        </header>\r\n        {this.state.loading && <Loader type=\"Hearts\" color=\"#00BFFF\" height={80} width={80} />}\r\n        <ToastContainer />\r\n        {this.state.images.length !== 0 && (\r\n          <ImageGallery arrayImages={this.state.images}>\r\n            <ImageGalleryItem imagesAray={this.state.images} onClick={this.onItemClick} />\r\n          </ImageGallery>\r\n        )}\r\n\r\n        {this.state.images.length !== 0 && <Button text=\"Load more\" onClick={this.onButtonClick} />}\r\n        {this.state.showModal && (\r\n          <Modal onClose={this.togleModal} imagesArray={this.state.imageName} />\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import './App.css';\nimport { Component } from 'react';\nimport Searchbar from './components/searchbar/Searchbar';\nimport ImageGallery from './components/imageGallery/ImageGallery';\n\n// import { ToastContainer } from 'react-toastify';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n  };\n\n  onSubmithandler = data => {\n    this.setState({ imageName: data.value });\n  };\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.onSubmithandler} />\n\n        <ImageGallery imageName={this.state.imageName} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__1YE7N\",\"SearchForm\":\"searchbar_SearchForm__mHmZ-\",\"SearchFormButton\":\"searchbar_SearchFormButton__U_Bvo\",\"SearchForm-button\":\"searchbar_SearchForm-button__1XoQk\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__37vry\",\"SearchFormInput\":\"searchbar_SearchFormInput__2k-2i\"};"],"sourceRoot":""}